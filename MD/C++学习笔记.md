# 2019/3/16
## 字符串初始化
```
string s1 = "aaaaa";
	string s2("bbbbb");
	string s3 = s2; //通过拷贝构造函数，初始化s3
	string s4(10, 'a');
	//string s5 = "hello" + "world";  //错误
	cout << "s1:" << s1 << endl;
	cout << "s2:" << s2 << endl;
	cout << "s3:" << s3 << endl;
	cout << "s4:" << s4 << endl;

s1:aaaaa
s2:bbbbb
s3:bbbbb
s4:aaaaaaaaaa
```
---
## 字符串数组
```c++
string name[5];
string name[5] = {"123","wang","li","zhang","ok"};\
```
赋值时可以缺省,缺省的项在数组中为空<br>
输出字符串数组只能用下标输出<br>
字符串数组的元素中不包括"\0"<br>

---
## new和delete关键字
`new 类型[初值];`<br>
new 数组时不能赋初值

`delete 指针变量;`  
`delete []指针变量` 对数组空间的操作  

---
# 2019/3/27
## 对象数组的初始化
- 当对象的某个构造函数只有一个参数时<br>
  `Box box[3] = {10,10,10};`
  可以用来初始化对象数组,表示分别调用三个参数为10的构造函数<br>

- 当对象的构造函数有多个参数时,则不能用这个方法<br>
  可以使用如下方式进行赋值

  ```c++
  Box a[3] = {
      Box(1,2,3),
      Box(4,5,6),
      Box(7,8,9)
  };
  ```

## 拷贝构造函数和赋值运算符
- 拷贝构造函数
```c++
Person(Person& p)
    {
        cout << "Copy Constructor" << endl;
    }
```
1. 拷贝构造函数的应用场景<br>
   1.对象作为函数的参数,以值传递的方式传给函数
   2.对象作为函数的返回值,以值的形式从函数返回
   3.使用一个对象初始化另一个对象

拷贝构造函数必须使用**引用类型**做参数**[编译器强制要求]**<br>
如果使用**值传递**作为参数,那么在传参时会无限递归调用拷贝构造函数<br>

## 指向对象成员函数的指针

- 定义

```c++
数据类型名 (类名::*指针变量名) (形参列表);
void (Box::*p) ();
```

- 使用

```c++
(对象名.*指针名) ();
(box.*p) ();
```

## 常

### 常对象

```c++
类名 const 对象名[(实参表)]；
const 类名 对象名[(实参表)]；
```

在定义常对象时，必须同时对常对象进行初始化，之后不能再改变。

> 如果一个对象被声明为常对象，则通过该对象只能调用它的常成员函数，而不能调用其普通成员函数。

```c++
const Time t(10,15,20);		//定义常对象
t.get_time();				//调用普通成员函数，非法
```

**解决办法**：`void get_time() const;`将需要调用的成员函数定义为常成员函数。

**注意**：**常成员函数**不允许修改常对象中数据成员的值。

### 常对象成员

#### 常数据成员

`const int hour;`

只能通过构造函数的参数初始化表对进行初始化。

```c++
Time::Time(int j){		//非法
    hour = h;
}

Time::Time(int h):hour(h);	//OK
```

#### 常成员函数

`类型名 函数名(参数表) const；`	声明和定义时需要`const`，调用时不需要。

### 指向对象的常指针

```c++
类名 * const 指针变量名；	//const修饰指针变量名，表示常指针
Time * const p = &t；
```

**特点**：始终指向同一个对象，但可以改变其指向对象的值。

### 指向常对象的指针变量

```c++
const 类型名 * 指针变量名；	//const修饰类型名，表示常对象
const char * p;
```

**注意**：如果一个变脸已经被声明为常变量，只能用指向常变量的指针变量指向它。

指向常变量的指针变量还可以指向非const变量。此时不能通过此指针改变变量的值。

***指针变量作形参***：

|          形参           |       实参        | 合法否 | 能否改变指针所指向变量的值 |
| :---------------------: | :---------------: | :----: | :------------------------: |
| 指向非const型变量的指针 | 非const变量的地址 |  合法  |            可以            |
| 指向非const型变量的指针 |  const变量的地址  |  非法  |             /              |
|  指向const型变量的指针  |  const变量的地址  |  合法  |           不可以           |
|  指向const型变量的指针  | 非const变量的地址 |  合法  |           不可以           |

